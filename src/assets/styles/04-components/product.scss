// تحسينات صفحة المنتج الرئيسية
.product-single {
  @apply container mx-auto px-4 py-8;

  // تحسين عرض الصور
  .product-images {
    @apply relative mb-8 md:mb-0;

    &__wrapper {
      @apply bg-gray-50 rounded-lg overflow-hidden;
      aspect-ratio: 1;

      img {
        @apply w-full h-full object-cover transition-opacity duration-300;
        opacity: 0;
        
        &.loaded {
          opacity: 1;
        }
      }
    }

    &__thumbnails {
      @apply grid grid-cols-5 gap-2 mt-4;

      .thumbnail {
        @apply cursor-pointer rounded-md overflow-hidden transition-all duration-300;
        aspect-ratio: 1;

        &:hover {
          @apply ring-2 ring-primary ring-offset-1;
        }

        &.active {
          @apply ring-2 ring-primary ring-offset-2;
        }
      }
    }
  }

  // تحسين معلومات المنتج
  .product-info {
    @apply space-y-6;

    &__title {
      @apply text-2xl md:text-3xl font-bold text-gray-900;
      
      &--ar {
        @apply font-primary;
      }
    }

    &__price {
      @apply flex items-center gap-3;

      .sale-price {
        @apply text-xl md:text-2xl font-bold text-primary;
      }

      .regular-price {
        @apply text-sm text-gray-500 line-through;
      }

      .discount-badge {
        @apply bg-red-100 text-red-800 text-sm px-2 py-1 rounded-full;
      }
    }

    // تحسين وصف المنتج
    &__description {
      @apply text-base text-gray-700 leading-relaxed space-y-4;
      
      // تنسيق الفقرات
      p {
        @apply mb-4 last:mb-0;
      }

      // تنسيق العناوين
      h1, h2, h3, h4, h5, h6 {
        @apply font-bold text-gray-900 mb-2;
      }

      h1 { @apply text-2xl; }
      h2 { @apply text-xl; }
      h3 { @apply text-lg; }

      // تنسيق القوائم
      ul, ol {
        @apply mb-4 ml-6;
      }

      ul { @apply list-disc; }
      ol { @apply list-decimal; }

      // تنسيق الروابط
      a {
        @apply text-primary hover:text-primary-dark underline;
      }

      // تنسيق الصور
      img {
        @apply rounded-lg my-4 max-w-full h-auto mx-auto;
      }

      // تنسيق الاقتباسات
      blockquote {
        @apply border-l-4 border-gray-200 pl-4 italic my-4;
      }

      // تنسيق الجداول
      table {
        @apply w-full border-collapse mb-4;

        th, td {
          @apply border border-gray-200 p-2 text-sm;
        }

        th {
          @apply bg-gray-50 font-bold;
        }
      }

      // تنسيق الكود
      code {
        @apply bg-gray-100 rounded px-1 py-0.5 text-sm font-mono;
      }

      pre {
        @apply bg-gray-100 rounded p-4 overflow-x-auto;
        
        code {
          @apply bg-transparent p-0;
        }
      }
    }
  }

  // تحسين أزرار الإجراءات
  .product-actions {
    @apply flex flex-col gap-4 mt-8;

    .add-to-cart-btn {
      @apply w-full md:w-auto flex items-center justify-center gap-2 
             bg-primary hover:bg-primary-dark text-white 
             px-6 py-3 rounded-lg transition-colors duration-300;

      &:disabled {
        @apply opacity-50 cursor-not-allowed;
      }
    }

    .wishlist-btn {
      @apply w-full md:w-auto flex items-center justify-center gap-2 
             border-2 border-gray-200 hover:border-primary 
             px-6 py-3 rounded-lg transition-all duration-300;

      &.active {
        @apply border-primary text-primary;
      }
    }
  }
}

// تحسين الشريط السفلي للموبايل
.sticky-add-to-cart {
  @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 
         p-4 transform transition-transform duration-300 ease-in-out z-50;

  &.hidden {
    @apply translate-y-full;
  }

  .content {
    @apply container mx-auto flex items-center justify-between gap-4;
  }

  @screen md {
    @apply hidden;
  }
}

// تحسينات الوضع الداكن
.dark {
  .product-single {
    .product-images__wrapper {
      @apply bg-gray-800;
    }

    .product-info {
      &__title {
        @apply text-gray-100;
      }

      &__description {
        @apply text-gray-300;
        
        a {
          @apply text-primary-light hover:text-primary;
        }
      }
    }
  }

  .sticky-add-to-cart {
    @apply bg-gray-900 border-gray-700;
  }

  .product-info__description {
    @apply text-gray-300;

    h1, h2, h3, h4, h5, h6 {
      @apply text-gray-100;
    }

    a {
      @apply text-primary-light hover:text-primary;
    }

    blockquote {
      @apply border-gray-700;
    }

    code, pre {
      @apply bg-gray-800;
    }

    table {
      th, td {
        @apply border-gray-700;
      }

      th {
        @apply bg-gray-800;
      }
    }
  }
}
}