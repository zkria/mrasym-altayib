{#
| المتغير          | النوع   | الوصف                           |
|------------------|---------|---------------------------------|
| cart             | كائن    |                                 |
| cart.items_count | عدد صحيح|                                 |
| cart.total       | سلسلة   | المجموع بصيغة مثل: "١٠٠ ر.س"    |
#}
{% set important_links = theme.settings.get('important_links') %}
<header class="store-header">
  <!-- شريط التنقل العلوي -->
  <div class="top-navbar flex items-center justify-between bg-white p-6 shadow-md text-gray-800">
    <!-- زر لفتح الشريط الجانبي -->
    <button id="toggle-sidenav" class="header-btn mx-4" aria-label="فتح القائمة الجانبية">
      <i class="header-btn__icon sicon-menu"></i>
    </button>

    <!-- الشعار في المنتصف -->
    <a class="navbar-brand flex items-center mx-auto" href="{{ store.url }}">
      <img fetchpriority="high" width="120%" height="300%" loading="lazy" src="{{ store.logo }}" alt="شعار {{ store.name }}">
      {% if is_page('index') %}
        <h1 class="sr-only">{{ store.name }}</h1>
      {% else %}
        <h2 class="sr-only">{{ store.name }}</h2>
      {% endif %}
    </a>

    <!-- زر المستخدم وزر السلة -->
    <div class="flex items-center">
      {% if user.type=='user' %}
        <salla-user-menu avatar-only show-header></salla-user-menu>
      {% else %}
        <button class="header-btn" aria-label="رمز المستخدم" onclick="salla.event.dispatch('login::open')">
          <i class="header-btn__icon sicon-user-circle"></i>
        </button>
      {% endif %}

      <salla-cart-summary class="ml-4 rtl:ml-[unset] rtl:mr-4">
        <i slot="icon" class="header-btn__icon icon sicon-shopping-bag"></i>
      </salla-cart-summary>
    </div>
  </div>

  <!-- شريط التنقل الجانبي -->
  <div id="sidenav" class="side-nav-container shadow-default bg-white fixed right-0 top-0 h-full text-gray-800">
    <div class="inner bg-inherit">
      <!-- الشعار في الأعلى -->
      <img src="{{ store.logo }}" alt="شعار {{ store.name }}" class="mb-2">
      <p class="text-gray-800 mb-4">القائمة</p>
       {# Search bar #}
       <div class="header-search flex-1">
        <salla-search inline oval height="36"></salla-search>
      </div>
      
      <div class="container">
        <div class="flex flex-col items-start justify-start relative">
          <custom-main-menu></custom-main-menu>
        </div>
      </div>
    </div>
  </div>
</header>

<style>
  .top-navbar {
    transition: margin 0.3s ease;
    height: 60px;
    background-color: #fff;
    color: #333;
  }
  .top-navbar.shifted {
    margin-left: 200px; /* تعديل القيمة حسب عرض الشريط الجانبي */
  }
  .rtl .top-navbar.shifted {
    margin-right: 200px; /* إزاحة من اليمين في حالة RTL */
    margin-left: 0;
  }
</style>

<script src="path/to/header.js"></script>

{% if store.scope %}
  <salla-scopes selection="{{ store.scope.display_as == 'popup' ? 'mandatory' : 'optional' }}"></salla-scopes>
{% endif %}
