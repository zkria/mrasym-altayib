{#
| المتغيرات         | النوع    | الوصف                           |
|------------------|---------|---------------------------------|
| cart             | كائن    |                                 |
| cart.items_count | عدد صحيح |                                 |
| cart.total       | سلسلة   | المجموع المنسق مثل: "١٠٠ ر.س"   |
#}
{% set important_links = theme.settings.get('important_links') %}
<header class="store-header">
  {# بداية رأس المتجر #}
  <div class="top-navbar bg-gray-800 text-white shadow-lg">
    <div class="container flex justify-between items-center py-2">
      
        {# زر البحث على اليمين #}
        <div class="header-search ml-4"> <!-- إضافة مسافة بين الأزرار -->
          <salla-search inline oval height="36"></salla-search> {# مكون البحث #}
        </div>
        
        {# الشعار في المنتصف #}
        <div class="flex-1 flex justify-center">
          <a class="navbar-brand" href="{{ store.url }}">
            <img fetchpriority="high" width="100%" height="100%" loading="eager" src="{{ store.logo }}" alt="{{ store.name }} logo"> {# شعار المتجر #}
            <h1 class="sr-only">{{ store.name }}</h1> <!-- اسم المتجر مخفي عن العرض # -->
          </a>
        </div>

        {# الأزرار في اليمين #}
        <div class="header-buttons flex items-center ml-auto">
          {# مكون اللغة والعملات #}
          {% if store.settings.is_multilingual or store.settings.currencies_enabled %}
            <button type="button" onclick="salla.event.dispatch('localization::open')" class="btn--rounded-gray text-white flex items-center">
              <span class="flag iti__flag iti__{{ user.language.country_code }} rounded-sm"></span> {# علم اللغة #}
              <span class="mx-1.5">|</span> <span>{{ currency.symbol }}</span> {# رمز العملة #}
            </button>
            <salla-localization-modal></salla-localization-modal> {# نافذة اختيار اللغة #}
          {% endif %}
          
          {# قائمة المستخدم #}
          {% if user.type == 'user' %}
            <salla-user-menu avatar-only show-header></salla-user-menu> <!-- قائمة المستخدم مع صورة رمزية فقط -->
          {% else %}
            <button class="header-btn text-white flex items-center" aria-label="أيقونة المستخدم" onclick="salla.event.dispatch('login::open')">
              <i class="header-btn__icon sicon-user-circle text-2xl"></i> <!-- أيقونة المستخدم # -->
            </button>
          {% endif %}

          {# أزرار السلة والمستخدم #}
          <salla-cart-summary class="ml-4 rtl:ml-[unset] rtl:mr-4 flex items-center">
            <i slot="icon" class="header-btn__icon icon sicon-shopping-bag text-white text-2xl"></i> <!-- أيقونة سلة التسوق # -->
          </salla-cart-summary>

        </div>
      </div>
    </div>

    {# شريط التنقل الرئيسي #}
    <nav class="sidebar" :class="{ 'close': !isOpen }"> <!-- تعديل لجعل الشريط يظهر ويختفي -->
      <header>
        <a class="navbar-brand" href="{{ store.url }}">
          <img fetchpriority="high" width="100%" height="100%" loading="eager" src="{{ store.logo }}" alt="{{ store.name }} logo"> {# شعار المتجر #}
          <h1 class="sr-only">{{ store.name }}</h1> {# اسم المتجر مخفي عن العرض #}
        </a>
        
        {# قائمة التنقل الرئيسية #}
        <custom-main-menu></custom-main-menu>
      </div>
      <div class="flex items-center justify-end">
        {% if user.type=='user' %}
          <salla-user-menu avatar-only show-header></salla-user-menu> {# قائمة المستخدم #}
        {% else %}
          <button class="header-btn" onclick="salla.event.dispatch('login::open')">
            <i class="sicon-user-circle"></i> {# أيقونة تسجيل الدخول #}
          </button>
        {% endif %}
      </div>
    </header>
</nav>